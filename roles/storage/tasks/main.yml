---
- name: "Connect SMB Share"
  when: storage_smb_share_address is defined
  ansible.builtin.include_tasks: "smb.yml"

- name: "Install Filebrowser"
  ansible.builtin.include_role:
    name: "artyorsh.selfhosted.filebrowser"
  vars:
    filebrowser_port: "{{ storage_filebrowser_port }}"
    filebrowser_storage_root_dir: "{{ storage_smb_share_local_dir }}"
    filebrowser_docker_settings: "{{ docker_bridge_network_settings }}"
